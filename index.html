<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Chargement...</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js" defer></script>
</head>
<body>

<header class="navbar">
    <div class="nav-container">
        <div class="logo">
            <img id="site-logo" src="" alt="Logo" style="display: none;">
            <span id="site-name-header">RIJA CARS</span>
        </div>
        <button class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
        <ul class="nav-links" id="nav-menu">
            <li><a href="#home">Accueil</a></li>
            <li><a href="#reservation">Réserver</a></li>
            <li><a href="#conditions-section">Conditions</a></li>
            <li><a href="admin.html" class="btn-admin-link">Espace Admin</a></li>
        </ul>
    </div>
</header>

<section id="home" class="hero-banner">
    <h1>Votre voyage commence ici</h1>
    <p>Confort, Sécurité et Fiabilité à Madagascar</p>
</section>

<section id="reservation" class="container-form">
    <div class="glass-card">
        <h2 class="section-header"><i class="fas fa-calendar-check"></i> Nouvelle Réservation</h2>
        
        <div id="choix-vehicule-container" class="options-grid">
            <p style="text-align:center; width:100%;">Chargement des véhicules...</p>
        </div>

        <div id="form-details-reservation" style="display:none;">
            
            <h3 class="sub-title"><i class="fas fa-user"></i> Vos Coordonnées</h3>
            <div class="grid-form">
                <div class="form-group">
                    <label>Nom Complet</label>
                    <input type="text" id="res-nom" placeholder="Ex: Jean Rakoto">
                </div>
                <div class="form-group">
                    <label>Téléphone (WhatsApp)</label>
                    <input type="text" id="res-tel" placeholder="Ex: 034 00 000 00">
                </div>
                <div class="form-group">
                    <label>Date de Début</label>
                    <input type="date" id="res-debut" onchange="verifierDisponibilite()">
                </div>
                <div class="form-group">
                    <label>Date de Fin</label>
                    <input type="date" id="res-fin" onchange="verifierDisponibilite()">
                </div>
            </div>

            <h3 class="sub-title"><i class="fas fa-truck-pickup"></i> Logistique</h3>
            <div class="grid-form">
                <div class="form-group">
                    <label>Lieu de Livraison</label>
                    <input type="text" id="res-lieu-livraison" placeholder="Ex: Aéroport Ivato">
                </div>
                <div class="form-group">
                    <label>Heure de Livraison</label>
                    <input type="time" id="res-heure-livraison">
                </div>
                <div class="form-group">
                    <label>Lieu de Récupération</label>
                    <input type="text" id="res-lieu-recup" placeholder="Ex: Hôtel Colbert">
                </div>
                <div class="form-group">
                    <label>Heure de Récupération</label>
                    <input type="time" id="res-heure-recup">
                </div>
            </div>

            <h3 class="sub-title"><i class="fas fa-map-marked-alt"></i> Trajet Prévisionnel</h3>
            <p style="font-size:0.9rem; margin-bottom:10px; opacity:0.8;">Indiquez les grandes étapes de votre voyage :</p>
            <div class="grid-form trajet-grid">
                <input type="text" id="res-trajet-1" placeholder="Étape 1 (Ex: Tana)">
                <input type="text" id="res-trajet-2" placeholder="Étape 2 (Ex: Antsirabe)">
                <input type="text" id="res-trajet-3" placeholder="Étape 3 (Ex: Morondava)">
                <input type="text" id="res-trajet-4" placeholder="Étape 4 (Retour)">
            </div>

            <div id="dispo-warning" class="warning-box" style="display:none;"></div>
            <div id="calcul-prix" class="price-tag"></div>
            
            <button onclick="confirmerReservation()" id="btn-reserver" class="btn-primary-large">
                CONFIRMER LA DEMANDE
            </button>
        </div>
    </div>
</section>

<section id="conditions-section" class="container-form">
    <h2 style="text-align:center; color:white; margin-bottom:30px;">Conditions Générales</h2>
    <div id="conditions-container" class="flip-cards-grid">
        </div>
</section>

<footer id="main-footer">
    <div class="footer-content">
        <div class="footer-col">
            <h4 id="footer-site-name">RIJA CARS</h4>
            <p id="footer-addr"></p>
            <p>NIF: <span id="footer-nif"></span></p>
            <p>STAT: <span id="footer-stat"></span></p>
        </div>
        <div class="footer-col">
            <h4>Contact Rapide</h4>
            <p id="footer-phone"></p>
            <div id="footer-socials" class="social-links"></div>
        </div>
    </div>
</footer>

</body>
</html>